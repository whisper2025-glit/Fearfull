# Overview

WhisperChat AI is a web-based AI chat companion platform built with React/TypeScript that allows users to create, discover, and interact with customizable AI characters. The application features real-time chat functionality powered by OpenRouter AI models, user authentication via Clerk, data persistence through Supabase, and a modern UI built with shadcn/ui components.

# Recent Changes

- **September 20, 2025**: Successfully imported GitHub project to Replit environment
  - Configured Vite development server for Replit compatibility (host: 0.0.0.0:5000)
  - Set up workflow for frontend development with proper proxy support
  - Configured deployment settings for autoscale deployment
  - All dependencies installed and application running successfully

# User Preferences

Preferred communication style: Simple, everyday language.

# System Architecture

## Frontend Architecture
The application uses a single-page application (SPA) architecture built with:
- **React 18** with TypeScript for component-based UI development
- **Vite** as the build tool and development server
- **Tailwind CSS** for styling with a custom design system featuring dark theme and cyan/blue accent colors
- **shadcn/ui** component library for consistent UI components
- **React Router** for client-side routing with protected routes
- **React Query** (TanStack Query) for server state management and caching

## Authentication & Authorization
- **Clerk** handles user authentication, registration, and session management
- **JWT tokens** are generated by Clerk and passed to Supabase for database authentication
- Custom `useSupabaseAuth` hook maintains synchronization between Clerk sessions and Supabase auth state
- Protected routes restrict access to authenticated users only

## Backend & Database Architecture
- **Supabase** serves as the backend-as-a-service providing:
  - PostgreSQL database for data persistence
  - Row Level Security (RLS) policies for data access control
  - Real-time subscriptions for live updates (comments, likes)
  - User profile and character data management
- Database schema includes tables for users, characters, conversations, messages, comments, favorites, and analytics

## AI Integration
- **OpenRouter API** provides access to multiple AI models including:
  - Mistral Nemo (free tier default)
  - Google Gemma models for roleplay scenarios
- Custom AI client (`ai-client.ts`) handles:
  - Message formatting and asterisk action enhancement
  - NSFW content filtering and moderation
  - Dynamic prompt engineering for character consistency
  - Temperature and response length controls

## Real-time Features
- Supabase real-time subscriptions for:
  - Live comment updates on character profiles
  - Like/reaction synchronization
  - New message notifications
- WebSocket-based real-time chat experience

## Data Management Patterns
- **Optimistic UI updates** for immediate user feedback
- **Local storage** for user preferences and settings
- **Error boundaries** and graceful error handling throughout the application
- **Image processing** utilities for avatar and character image optimization

# External Dependencies

## Core Services
- **Clerk** - Authentication and user management service
- **Supabase** - Backend-as-a-service (PostgreSQL database, real-time, auth)
- **OpenRouter** - AI model API gateway for chat functionality

## Development & Deployment
- **Netlify** - Hosting and deployment platform with automatic builds
- **Node.js 18+** - Runtime environment requirement
- **npm** - Package management

## Third-party Libraries
- **@radix-ui** - Accessible UI primitive components
- **Lucide React** - Icon library
- **React Hook Form** - Form state management
- **Sonner** - Toast notifications
- **date-fns** - Date manipulation utilities
- **Embla Carousel** - Image carousel component
- **Axios** - HTTP client for API requests

## Browser APIs Used
- **Speech Synthesis API** - Text-to-speech functionality for character voices
- **File API** - Image upload and processing
- **LocalStorage** - Client-side data persistence
- **History API** - Navigation and back button handling for modals

The application is designed to be deployed as a static site with environment variables for API keys and service URLs, making it suitable for hosting on platforms like Netlify or Vercel.